#pragma once
// some C macros to implement loop expansion
#define loop1(f) f(0)
#define loop2(f) loop1(f) f(1)
#define loop3(f) loop2(f) f(2)
#define loop4(f) loop3(f) f(3)
#define loop5(f) loop4(f) f(4)
#define loop6(f) loop5(f) f(5)
#define loop7(f) loop6(f) f(6)
#define loop8(f) loop7(f) f(7)
#define loop9(f) loop8(f) f(8)
#define loop10(f) loop9(f) f(9)
#define loop11(f) loop10(f) f(10)
#define loop12(f) loop11(f) f(11)
#define loop13(f) loop12(f) f(12)
#define loop14(f) loop13(f) f(13)
#define loop15(f) loop14(f) f(14)
#define loop16(f) loop15(f) f(15)
#define loop17(f) loop16(f) f(16)
#define loop18(f) loop17(f) f(17)
#define loop19(f) loop18(f) f(18)
#define loop20(f) loop19(f) f(19)
#define loop21(f) loop20(f) f(20)
#define loop22(f) loop21(f) f(21)
#define loop23(f) loop22(f) f(22)
#define loop24(f) loop23(f) f(23)
#define loop25(f) loop24(f) f(24)
#define loop26(f) loop25(f) f(25)
#define loop27(f) loop26(f) f(26)
#define loop28(f) loop27(f) f(27)
#define loop29(f) loop28(f) f(28)
#define loop30(f) loop29(f) f(29)
#define loop31(f) loop30(f) f(30)
#define loop32(f) loop31(f) f(31)
#define loop33(f) loop32(f) f(32)
#define loop34(f) loop33(f) f(33)
#define loop35(f) loop34(f) f(34)
#define loop36(f) loop35(f) f(35)
#define loop37(f) loop36(f) f(36)
#define loop38(f) loop37(f) f(37)
#define loop39(f) loop38(f) f(38)
#define loop40(f) loop39(f) f(39)
#define loop41(f) loop40(f) f(40)
#define loop42(f) loop41(f) f(41)
#define loop43(f) loop42(f) f(42)
#define loop44(f) loop43(f) f(43)
#define loop45(f) loop44(f) f(44)
#define loop46(f) loop45(f) f(45)
#define loop47(f) loop46(f) f(46)
#define loop48(f) loop47(f) f(47)
#define loop49(f) loop48(f) f(48)
#define loop50(f) loop49(f) f(49)
#define loop51(f) loop50(f) f(50)
#define loop52(f) loop51(f) f(51)
#define loop53(f) loop52(f) f(52)
#define loop54(f) loop53(f) f(53)
#define loop55(f) loop54(f) f(54)
#define loop56(f) loop55(f) f(55)
#define loop57(f) loop56(f) f(56)
#define loop58(f) loop57(f) f(57)
#define loop59(f) loop58(f) f(58)
#define loop60(f) loop59(f) f(59)
#define loop61(f) loop60(f) f(60)
#define loop62(f) loop61(f) f(61)
#define loop63(f) loop62(f) f(62)
#define loop64(f) loop63(f) f(63)
#define loop65(f) loop64(f) f(64)
#define loop66(f) loop65(f) f(65)
#define loop67(f) loop66(f) f(66)
#define loop68(f) loop67(f) f(67)
#define loop69(f) loop68(f) f(68)
#define loop70(f) loop69(f) f(69)
#define loop71(f) loop70(f) f(70)
#define loop72(f) loop71(f) f(71)
#define loop73(f) loop72(f) f(72)
#define loop74(f) loop73(f) f(73)
#define loop75(f) loop74(f) f(74)
#define loop76(f) loop75(f) f(75)
#define loop77(f) loop76(f) f(76)
#define loop78(f) loop77(f) f(77)
#define loop79(f) loop78(f) f(78)
#define loop80(f) loop79(f) f(79)
#define loop81(f) loop80(f) f(80)
#define loop82(f) loop81(f) f(81)
#define loop83(f) loop82(f) f(82)
#define loop84(f) loop83(f) f(83)
#define loop85(f) loop84(f) f(84)
#define loop86(f) loop85(f) f(85)
#define loop87(f) loop86(f) f(86)
#define loop88(f) loop87(f) f(87)
#define loop89(f) loop88(f) f(88)
#define loop90(f) loop89(f) f(89)
#define loop91(f) loop90(f) f(90)
#define loop92(f) loop91(f) f(91)
#define loop93(f) loop92(f) f(92)
#define loop94(f) loop93(f) f(93)
#define loop95(f) loop94(f) f(94)
#define loop96(f) loop95(f) f(95)
#define loop97(f) loop96(f) f(96)
#define loop98(f) loop97(f) f(97)
#define loop99(f) loop98(f) f(98)
#define loop100(f) loop99(f) f(99)

#define xloop(n,f) loop##n(f)
#define __LOOP(n,f) xloop(n,f)

#define xloop(n,f) loop##n(f)
#define __LOOP(n,f) xloop(n,f)
// two-level indirection required for macro name expansion.
// __LOOP(4,f) expands to f(0) f(1) f(2) f(3)